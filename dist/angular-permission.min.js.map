{"version":3,"sources":["angular-permission.js"],"names":["permission","angular","module","config","$stateProvider","decorator","state","parentFn","self","getState","run","$rootScope","$state","$q","Authorization","PermissionMap","$on","event","toState","toParams","fromState","fromParams","options","areSetStatePermissions","isDefined","data","permissions","setStateAuthorizationStatus","status","extend","$$isAuthorizationFinished","isAuthorizationFinished","areStateEventsDefaultPrevented","isStateChangePermissionStartDefaultPrevented","isStateChangeStartDefaultPrevented","compensatePermissionMap","statePermissionMap","permissionMap","redirectTo","toStatePath","get","name","path","slice","reverse","forEach","extendPermissionMap","authorizeForState","authorize","then","$broadcast","go","notify","rejectedPermission","resolveRedirectState","redirect","params","defaultPrevented","preventDefault","compensatedPermissionMap","factory","this","only","resolvePermissionMapProperty","except","resolveFunctionRedirect","redirectFunction","when","call","redirectState","isString","isObject","TypeError","resolveObjectRedirect","redirectObject","ReferenceError","isFunction","resolve","property","isArray","prototype","concat","rejectedPermissionName","reject","Permission","permissionName","validationFunction","validateConstructor","wrapInPromise","result","dfd","defer","promise","validatePermission","validationResult","PermissionStore","Role","roleName","permissionNames","defineManyPermissions","length","validateRole","promises","map","hasPermissionDefinition","getPermissionDefinition","all","service","definePermission","permissionStore","removePermissionDefinition","getStore","clearStore","defineRole","roleStore","removeRoleDefinition","hasRoleDefinition","getRoleDefinition","directive","$log","PermissionStrategies","restrict","scope","bindToController","onAuthorized","onUnauthorized","deprecatedOnly","deprecatedExcept","controllerAs","controller","$scope","$element","onAuthorizedAccess","showElement","onUnauthorizedAccess","hideElement","warn","$watchGroup","e","error","message","RoleStore","permissionsMap","handleAuthorization","deferred","exceptPromises","findMatchingPermissions","rejectedPermissions","onlyPromises","resolvedPermissions","counter","results","key","value","hasOwnProperty","reason","role","constant","enableElement","removeAttr","disableElement","attr","removeClass","addClass"],"mappings":"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","file":"angular-permission.min.js"}