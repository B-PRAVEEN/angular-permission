{"version":3,"sources":["angular-permission.js"],"names":["module","permission","angular","isDefined","exports","name","$q","$delegate","any","promises","deferred","defer","counter","results","isArray","forEach","promise","key","when","then","value","resolve","reason","reject","$inject","decorator","PermissionStrategies","enableElement","$element","removeAttr","disableElement","attr","showElement","removeClass","hideElement","addClass","constant","TransitionProperties","TransitionEvents","this","broadcastPermissionStartEvent","Error","broadcastPermissionAcceptedEvent","broadcastPermissionDeniedEvent","service","PermissionFactory","Permission","permissionName","validationFunction","validateConstructor","wrapInPromise","result","dfd","isString","TypeError","isFunction","prototype","validatePermission","validationResult","call","factory","RoleFactory","PermissionStore","Role","roleName","validateRole","map","hasPermissionDefinition","getPermissionDefinition","all","definePermission","permissionStore","defineManyPermissions","permissionNames","removePermissionDefinition","getStore","clearStore","RoleStore","defineRole","roleStore","defineManyRoles","roleMap","isObject","removeRoleDefinition","hasRoleDefinition","getRoleDefinition","permissionDirective","$log","Authorization","PermissionMap","restrict","bindToController","only","except","onAuthorized","onUnauthorized","controllerAs","controller","$scope","onAuthorizedAccess","onUnauthorizedAccess","$watchGroup","permissionMap","authorize","e","error","message","directive","permissionsMap","authorizePermissionMap","resolveExceptPrivilegeMap","exceptPromises","resolvePropertyValidity","rejectedPermissions","resolveOnlyPermissionMap","length","onlyPromises","resolvedPermissions","rejectedPermission","PermissionMapFactory","normalizeMapProperty","redirectTo","resolveFunctionRedirect","redirectFunction","rejectedPermissionName","redirectState","state","resolveObjectRedirect","redirectObject","ReferenceError","property","resolveRedirectState","privilegeName","role"],"mappings":"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","file":"angular-permission.min.js"}