{"version":3,"sources":["angular-permission.js"],"names":["angular","module","service","$q","PermissionStore","authorize","permissionsMap","toParams","validatePermissionMap","handleAuthorization","permissionMap","isObject","TypeError","isUndefined","only","except","ReferenceError","isArray","deferred","defer","exceptPromises","findMatchingPermissions","all","then","rejectedPermissions","length","reject","onlyPromises","resolvedPermissions","resolve","rejectedPermission","promise","permissionNames","promises","forEach","permissionName","dfd","hasPermission","permission","getPermission","validationResult","validatePermission","push","this","directive","$log","Authorization","restrict","link","scope","element","attrs","$eval","removeClass","addClass","e","error","message","config","$stateProvider","decorator","state","parentFn","self","getState","run","$rootScope","$state","$on","event","toState","fromState","fromParams","options","areSetStatePermissions","data","permissions","setStateAuthorizationStatus","status","extend","$$isAuthorizationFinished","areStateEventsDefaultPrevented","isStateChangePermissionStartDefaultPrevented","isStateChangeStartDefaultPrevented","compensatePermissionMap","statePermissionMap","toStatePath","get","name","path","reverse","extendStatePermissionsMap","isDefined","redirectTo","onlyPermissionsArray","resolvePermissionMapProperty","concat","exceptPermissionsArray","property","isString","isFunction","call","authorizeForState","$broadcast","goToState","redirectToState","go","notify","handleFunctionRedirect","handleObjectRedirect","handleStringRedirect","redirectFunction","when","redirectState","redirectObject","defaultPrevented","preventDefault","factory","Permission","validationFunction","validatePermissionConstructor","wrapInPromise","func","prototype","defineRole","console","warn","setPermission","defineManyRoles","setManyPermissions","permissionStore","removePermission","removeManyPermissions","getPermissions","clearPermissions"],"mappings":"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","file":"angular-permission.min.js"}